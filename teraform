main.tf – VPC and networking

provider "aws" {
  region = "ap-south-1"
}

resource "aws_vpc" "main_vpc" {
  cidr_block = "10.0.0.0/16"
  tags       = { Name = "MainVPC" }
}

resource "aws_subnet" "public" {
  count                   = 2
  vpc_id                  = aws_vpc.main_vpc.id
  cidr_block              = cidrsubnet(aws_vpc.main_vpc.cidr_block, 4, count.index)
  map_public_ip_on_launch = true
}


ec2.tf – EC2 web server

resource "aws_instance" "web" {
  ami           = "ami-12345678"  # Replace with latest Ubuntu/AL2 AMI
  instance_type = "t2.micro"
  subnet_id     = aws_subnet.public[0].id
  key_name      = "my-key-pair"
  tags = { Name = "WebServer" }
}


rds.tf – RDS database

resource "aws_db_instance" "mysql_db" {
  allocated_storage     = 20
  engine                = "mysql"
  instance_class        = "db.t3.micro"
  name                  = "myappdb"
  username              = "admin"
  password              = "YourSecurePassword"
  multi_az              = true
  publicly_accessible   = false
}


alb_asg.tf – Application Load Balancer & Auto Scaling

resource "aws_lb" "app_alb" {
  name               = "app-alb"
  load_balancer_type = "application"
  subnets            = aws_subnet.public[*].id
}


cloudwatch.tf – CloudWatch logs & monitoring

resource "aws_cloudwatch_log_group" "web_logs" {
  name              = "/aws/web/logs"
  retention_in_days = 14
}
